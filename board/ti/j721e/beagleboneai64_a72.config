# Defconfig fragment to apply on top of j721e_evm_a72_defconfig

CONFIG_DEFAULT_DEVICE_TREE="k3-j721e-beagleboneai64"
CONFIG_SPL_OF_LIST="k3-j721e-beagleboneai64"
CONFIG_OF_LIST="k3-j721e-beagleboneai64"
CONFIG_BOOTCOMMAND="run set_led_state_start_load;run findfdt; run envboot; bootflow scan -lb;run set_led_state_fail_load"
CONFIG_EXT4_WRITE=y
CONFIG_LZO=y
CONFIG_AUTOBOOT_KEYED=y
CONFIG_AUTOBOOT_PROMPT="Press SPACE to abort autoboot in %d seconds\n"
CONFIG_AUTOBOOT_DELAY_STR="d"
CONFIG_AUTOBOOT_STOP_STR=" "

# No Flash
CONFIG_HBMC_AM654=n
CONFIG_UFS=n

# Sierra disabled for now till stability
CONFIG_PHY_CADENCE_SIERRA=n
CONFIG_PHY_J721E_WIZ=n
# Torrent only for DP. no DP splash screen
CONFIG_PHY_CADENCE_TORRENT=n

# Use the Beaglebone-AI64 env file
CONFIG_ENV_SOURCE_FILE="beagleboneai64"
# No dependency on EEPROM detection
CONFIG_TI_I2C_BOARD_DETECT=n
# No board fixup to do
CONFIG_OF_BOARD_SETUP=n

# Do not use emmc boot - use FS only
CONFIG_SUPPORT_EMMC_BOOT=n
CONFIG_MMC_IO_VOLTAGE=y
# CONFIG_SPL_MMC_IO_VOLTAGE is not set
CONFIG_MMC_UHS_SUPPORT=y
# CONFIG_SPL_MMC_UHS_SUPPORT is not set
CONFIG_MMC_HS200_SUPPORT=y
# CONFIG_SPL_MMC_HS200_SUPPORT is not set

# Enable GPIO control
CONFIG_DM_GPIO=y
CONFIG_SPL_GPIO=y
CONFIG_DA8XX_GPIO=y
CONFIG_CMD_GPIO=y
CONFIG_CMD_GPIO_READ=y
# Enable LEDs
CONFIG_LED=y
CONFIG_LED_GPIO=y
CONFIG_SPL_LED=y
CONFIG_SPL_LED_GPIO=y
# Enable I2C bus
CONFIG_SPL_I2C=y
CONFIG_DM_I2C=y
CONFIG_SYS_I2C_OMAP24XX=y
CONFIG_CMD_I2C=y
